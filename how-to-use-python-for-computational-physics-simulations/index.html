<!doctype html><html lang=en dir=auto><head><title>How to Use Python for Computational Physics Simulations</title>
<link rel=canonical href=https://science.googlexy.com/how-to-use-python-for-computational-physics-simulations/><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><meta name=keywords content><meta name=description content><meta name=author content><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://science.googlexy.com/logo.svg><link rel=icon type=image/png sizes=16x16 href=https://science.googlexy.com/logo.svg><link rel=icon type=image/png sizes=32x32 href=https://science.googlexy.com/logo.svg><link rel=apple-touch-icon href=https://science.googlexy.com/logo.svg><link rel=mask-icon href=https://science.googlexy.com/logo.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://science.googlexy.com/404.html><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="404 Page not found"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://science.googlexy.com/404.html"><meta name=twitter:card content="summary"><meta name=twitter:title content="404 Page not found"><meta name=twitter:description content><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6194699946397512" crossorigin=anonymous></script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://science.googlexy.com/ accesskey=h title="Home (Alt + H)"><img src=https://science.googlexy.com/logo.svg alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://science.googlexy.com/articles/ title=Articles><span>Articles</span></a></li><li><a href=https://science.googlexy.com/categories/ title=Categories><span>Categories</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">How to Use Python for Computational Physics Simulations</h1><div class=post-description></div></header><figure class=entry-cover><img loading=eager src=https://science.googlexy.com/images/computational-physics.jpeg alt></figure><br><div class=post-content><p>Computational physics has become an indispensable tool in modern scientific research, allowing physicists to solve complex problems that are analytically intractable. Among the myriad programming languages suitable for these tasks, Python stands out due to its simplicity, flexibility, and the extensive ecosystem of libraries tailored for numerical computation and scientific applications. This blog post will guide you through how to harness Python for conducting computational physics simulations, from fundamental concepts to practical implementation and optimization strategies.</p><h2 id=why-python-for-computational-physics>Why Python for Computational Physics?</h2><p>Python&rsquo;s rise in the scientific community is no accident. It combines readable syntax with powerful features, making it accessible for beginners while sophisticated enough for advanced simulations. Key advantages include:</p><ul><li><strong>Ease of Learning and Use:</strong> Python’s human-readable syntax shortens development time.</li><li><strong>Robust Scientific Libraries:</strong> NumPy, SciPy, Matplotlib, and others provide ready-made tools.</li><li><strong>Active Community and Resources:</strong> A wealth of tutorials, forums, and prebuilt models.</li><li><strong>Interoperability:</strong> Ability to integrate with C, C++, Fortran for performance-critical parts.</li><li><strong>Visualization:</strong> Built-in support for plotting and animating simulation results.</li></ul><p>With these strengths, Python supports the full simulation workflow from problem setup, numerical solution, to analysis and visualization.</p><h2 id=setting-up-your-environment>Setting Up Your Environment</h2><p>Before diving into simulation examples, ensure your Python environment is ready. Using the <code>Anaconda</code> distribution simplifies package management and includes many scientific libraries by default. You can also use <code>pip</code> to install additional packages.</p><p>Essential Python packages for computational physics include:</p><ul><li><code>numpy</code> — Fundamental package for numerical computing.</li><li><code>scipy</code> — Provides algorithms for optimization, integration, interpolation, eigenvalue problems.</li><li><code>matplotlib</code> — Plotting and visualization.</li><li><code>numba</code> — Just-in-time compiler for performance acceleration.</li><li><code>sympy</code> — Symbolic mathematics (useful for deriving equations).</li><li><code>pandas</code> — Data analysis (sometimes helpful for simulation data management).</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>pip install numpy scipy matplotlib numba sympy pandas
</span></span></code></pre></div><p>Alternatively, create a virtual environment to keep dependencies organized.</p><h2 id=core-principles-of-physics-simulations-in-python>Core Principles of Physics Simulations in Python</h2><p>Physics simulations typically involve discretizing continuous equations into numerical forms that computers can process. Key algorithms include:</p><ul><li><strong>Finite Difference Methods (FDM):</strong> Approximate derivatives by differences.</li><li><strong>Finite Element Methods (FEM):</strong> Break domain into elements; solve variational problems.</li><li><strong>Monte Carlo Methods:</strong> Use random sampling to solve problems or optimize.</li><li><strong>Molecular Dynamics:</strong> Simulate particle trajectories by integrating Newton’s laws.</li></ul><p>Python can implement all these techniques either directly or by using specialized libraries. Understanding the underlying physical problem and numerical method is crucial before coding.</p><h2 id=step-by-step-example-simulating-the-heat-equation>Step-by-Step Example: Simulating the Heat Equation</h2><p>Let&rsquo;s explore a practical example: solving the 1D heat equation, a fundamental partial differential equation describing heat diffusion in a rod.</p><h3 id=the-governing-equation>The Governing Equation</h3><p>[
\frac{\partial u}{\partial t} = \alpha \frac{\partial^2 u}{\partial x^2}
]</p><p>where:</p><ul><li>( u(x,t) ) is the temperature,</li><li>( \alpha ) is thermal diffusivity,</li><li>( x ) is spatial position,</li><li>( t ) is time.</li></ul><h3 id=discretization-using-finite-difference>Discretization Using Finite Difference</h3><p>Discretize spatial domain into points ( x_i ), and time domain into steps ( t_n ). Using explicit time stepping (Forward Euler):</p><p>[
u_i^{n+1} = u_i^n + \frac{\alpha \Delta t}{(\Delta x)^2} (u_{i+1}^n - 2u_i^n + u_{i-1}^n)
]</p><p>Stability condition (CFL condition):</p><p>[
\frac{\alpha \Delta t}{(\Delta x)^2} \leq \frac{1}{2}
]</p><h3 id=python-implementation>Python Implementation</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=k>as</span> <span class=nn>plt</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Parameters</span>
</span></span><span class=line><span class=cl><span class=n>L</span> <span class=o>=</span> <span class=mf>1.0</span>                   <span class=c1># Length of the rod</span>
</span></span><span class=line><span class=cl><span class=n>T</span> <span class=o>=</span> <span class=mf>0.5</span>                   <span class=c1># Total simulation time</span>
</span></span><span class=line><span class=cl><span class=n>nx</span> <span class=o>=</span> <span class=mi>50</span>                   <span class=c1># Number of spatial points</span>
</span></span><span class=line><span class=cl><span class=n>dx</span> <span class=o>=</span> <span class=n>L</span> <span class=o>/</span> <span class=p>(</span><span class=n>nx</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>         <span class=c1># Spatial step size</span>
</span></span><span class=line><span class=cl><span class=n>alpha</span> <span class=o>=</span> <span class=mf>1e-4</span>              <span class=c1># Thermal diffusivity</span>
</span></span><span class=line><span class=cl><span class=n>dt</span> <span class=o>=</span> <span class=mf>0.4</span> <span class=o>*</span> <span class=n>dx</span><span class=o>**</span><span class=mi>2</span> <span class=o>/</span> <span class=n>alpha</span>  <span class=c1># Time step size for stability</span>
</span></span><span class=line><span class=cl><span class=n>nt</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>T</span> <span class=o>/</span> <span class=n>dt</span><span class=p>)</span>          <span class=c1># Number of time steps</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Initial condition: u(x,0) = sin(pi * x)</span>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linspace</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>L</span><span class=p>,</span> <span class=n>nx</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>u</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>sin</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>pi</span> <span class=o>*</span> <span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Boundary conditions: u(0,t) = u(L,t) = 0 (Dirichlet)</span>
</span></span><span class=line><span class=cl><span class=n>u</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=n>u</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Time-stepping loop</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>n</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>nt</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>un</span> <span class=o>=</span> <span class=n>u</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>nx</span> <span class=o>-</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>u</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>un</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=n>alpha</span> <span class=o>*</span> <span class=n>dt</span> <span class=o>/</span> <span class=n>dx</span><span class=o>**</span><span class=mi>2</span> <span class=o>*</span> <span class=p>(</span><span class=n>un</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>]</span> <span class=o>-</span> <span class=mi>2</span> <span class=o>*</span> <span class=n>un</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=n>un</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Plot the final temperature distribution</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>u</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=sa>f</span><span class=s1>&#39;t=</span><span class=si>{</span><span class=n>T</span><span class=si>:</span><span class=s1>.2f</span><span class=si>}</span><span class=s1>s&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>xlabel</span><span class=p>(</span><span class=s1>&#39;Position along the rod&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>ylabel</span><span class=p>(</span><span class=s1>&#39;Temperature&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>title</span><span class=p>(</span><span class=s1>&#39;1D Heat Equation Simulation&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>legend</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span></code></pre></div><p>This simple script models the heat diffusion over time and visually displays the final temperature profile. You can extend this by animating time evolution or experimenting with different initial and boundary conditions.</p><h2 id=improving-performance-with-numba>Improving Performance with Numba</h2><p>Python loops can become slow for large simulations. The <code>numba</code> library can transform Python functions into optimized machine code at runtime, significantly speeding computations.</p><p>Example optimizing the update loop:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>numba</span> <span class=kn>import</span> <span class=n>jit</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@jit</span><span class=p>(</span><span class=n>nopython</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>update</span><span class=p>(</span><span class=n>u</span><span class=p>,</span> <span class=n>un</span><span class=p>,</span> <span class=n>alpha</span><span class=p>,</span> <span class=n>dt</span><span class=p>,</span> <span class=n>dx</span><span class=p>,</span> <span class=n>nx</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>nx</span> <span class=o>-</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>u</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>un</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=n>alpha</span> <span class=o>*</span> <span class=n>dt</span> <span class=o>/</span> <span class=n>dx</span><span class=o>**</span><span class=mi>2</span> <span class=o>*</span> <span class=p>(</span><span class=n>un</span><span class=p>[</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>]</span> <span class=o>-</span> <span class=mi>2</span> <span class=o>*</span> <span class=n>un</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=n>un</span><span class=p>[</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Inside the time-stepping loop</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>n</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>nt</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>un</span> <span class=o>=</span> <span class=n>u</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>update</span><span class=p>(</span><span class=n>u</span><span class=p>,</span> <span class=n>un</span><span class=p>,</span> <span class=n>alpha</span><span class=p>,</span> <span class=n>dt</span><span class=p>,</span> <span class=n>dx</span><span class=p>,</span> <span class=n>nx</span><span class=p>)</span>
</span></span></code></pre></div><p>This can result in orders of magnitude speedup by compiling the function to optimized machine instructions.</p><h2 id=expanding-to-more-complex-systems>Expanding to More Complex Systems</h2><p>Once comfortable with simple PDEs, you can tackle:</p><ul><li><strong>2D and 3D PDEs:</strong> Extend finite difference or finite element methods spatially.</li><li><strong>Nonlinear equations:</strong> Implement methods for Navier-Stokes, reaction-diffusion systems.</li><li><strong>Particle simulations:</strong> Use NumPy arrays for Molecular Dynamics or Monte Carlo methods.</li><li><strong>Quantum simulations:</strong> Solve Schrödinger’s equation or explore density functional theory.</li><li><strong>Custom libraries:</strong> Leverage frameworks like FEniCS, PyClaw, or SimPy.</li></ul><p>Each problem will require custom approaches tailored to the physics and desired accuracy.</p><h2 id=visualization-and-analysis>Visualization and Analysis</h2><p>Python’s visualization ecosystem is helpful for making sense of simulation data. Beyond static plots:</p><ul><li><strong>Matplotlib animations:</strong> Create time-lapse visualizations.</li><li><strong>Plotly, Bokeh:</strong> Interactive visualization in notebooks or web apps.</li><li><strong>Mayavi, VTK:</strong> Advanced 3D rendering of volumetric data.</li><li><strong>Jupyter Notebooks:</strong> Combine code, visualization, and narrative.</li></ul><p>Combining analysis and visualization leads to better insights and communication of results.</p><h2 id=best-practices-for-robust-simulations>Best Practices for Robust Simulations</h2><ul><li><strong>Validation:</strong> Compare simulations against analytical solutions or experiments.</li><li><strong>Parameter Tuning:</strong> Study convergence and stability by varying mesh size and time steps.</li><li><strong>Code Modularity:</strong> Organize code into functions and classes for reuse.</li><li><strong>Documentation and Testing:</strong> Keep track of working assumptions and test small units.</li><li><strong>Version Control:</strong> Use Git for collaboration and tracking changes.</li></ul><p>These habits ensure your simulation workflows remain manageable and reproducible.</p><h2 id=resources-to-deepen-your-skills>Resources to Deepen Your Skills</h2><p>For further exploration, consider:</p><ul><li><strong>Books:</strong> <em>Computational Physics</em> by Mark Newman; <em>Numerical Recipes</em>.</li><li><strong>Courses:</strong> Online offerings from edX, Coursera on scientific computing.</li><li><strong>Communities:</strong> Stack Overflow, Physics Stack Exchange, SciPy mailing lists.</li><li><strong>Open source projects:</strong> Contribute to Python physics libraries.</li></ul><p>Consistent practice combined with understanding theory will build expertise in computational physics simulations with Python.</p><h2 id=conclusion>Conclusion</h2><p>Python provides a versatile and user-friendly platform for computational physics, ranging from basic finite difference models to sophisticated multi-physics simulations. Its rich ecosystem and readability empower researchers and students to prototype, test, and analyze complex physical systems effectively. By mastering numerical methods and Python tools, you unlock the ability to explore physical phenomena beyond analytical reach, making computational physics more accessible and productive than ever before.</p><p>Whether you’re modeling heat flow, fluid dynamics, or quantum mechanics, Python is well-poised to be your simulation language of choice. Try experimenting with the example code provided, customize it, add your physics, and watch your computational exploration begin!</p></div><footer class=post-footer><nav class=paginav>Category:<a href=https://science.googlexy.com/categories/computational-physics/>Computational Physics</a></nav><nav class=paginav><a class=prev href=https://science.googlexy.com/how-to-solve-complex-optimization-problems-with-computational-physics/><span class=title>« Prev</span><br><span>How to Solve Complex Optimization Problems with Computational Physics</span>
</a><a class=next href=https://science.googlexy.com/hybrid-methods-in-computational-physics/><span class=title>Next »</span><br><span>Hybrid Methods in Computational Physics</span></a></nav><nav class=paginav><ul style=list-style-type:none><li><small>See Also</small></li><li><ul style=list-style-type:none><li><small><a href=/how-computational-physics-is-used-in-semiconductor-research/>How Computational Physics is Used in Semiconductor Research</a></small></li><li><small><a href=/computational-techniques-tailored-for-your-physics-needs/>Computational Techniques: Tailored for Your Physics Needs</a></small></li><li><small><a href=/the-computational-physics-landscape-past-present-and-future/>The Computational Physics Landscape: Past, Present, and Future</a></small></li><li><small><a href=/computational-physics-in-fluid-structure-interaction/>Computational Physics in Fluid-Structure Interaction</a></small></li><li><small><a href=/advancements-in-computational-physics-simulation-methods/>Advancements in Computational Physics Simulation Methods</a></small></li></ul></li></ul></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://science.googlexy.com/>All the science is here!</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>